{"version":3,"sources":["..\\..\\Crew UI\\webpack/bootstrap f02be723014c36766e67","..\\..\\Crew UI\\delegated ./node_modules/react/react.js from dll-reference vendor_a65b3acf96981fd3289a","..\\..\\Crew UI\\./ClientApp/Client.tsx","..\\..\\Crew UI\\delegated ./node_modules/react-redux/es/index.js from dll-reference vendor_a65b3acf96981fd3289a","..\\..\\Crew UI\\external \"vendor_a65b3acf96981fd3289a\"","..\\..\\Crew UI\\./ClientApp/components/general/index.ts","..\\..\\Crew UI\\./ClientApp/store/Screen.ts","..\\..\\Crew UI\\./ClientApp/store/User.ts","..\\..\\Crew UI\\./ClientApp/components/general/buttons/Button.tsx","..\\..\\Crew UI\\./ClientApp/functionality/Hotkeys.ts","..\\..\\Crew UI\\./ClientApp/components/general/ButtonSet.tsx","..\\..\\Crew UI\\./ClientApp/components/general/buttons/index.ts","..\\..\\Crew UI\\./ClientApp/store/Crew.ts","..\\..\\Crew UI\\./ClientApp/components/ScreenManager.tsx","..\\..\\Crew UI\\./ClientApp/configureStore.ts","..\\..\\Crew UI\\./ClientApp/functionality/Connection.ts","..\\..\\Crew UI\\./ClientApp/Client.scss","..\\..\\Crew UI\\./~/react-hot-loader/index.js","..\\..\\Crew UI\\delegated ./node_modules/history/es/index.js from dll-reference vendor_a65b3acf96981fd3289a","..\\..\\Crew UI\\delegated ./node_modules/react-dom/index.js from dll-reference vendor_a65b3acf96981fd3289a","..\\..\\Crew UI\\./ClientApp/components/general/Choice.tsx","..\\..\\Crew UI\\./ClientApp/components/general/Field.tsx","..\\..\\Crew UI\\./ClientApp/components/general/Screen.tsx","..\\..\\Crew UI\\./ClientApp/components/general/Textbox.tsx","..\\..\\Crew UI\\./ClientApp/components/general/buttons/ConfirmButton.tsx","..\\..\\Crew UI\\./ClientApp/components/general/buttons/HeldButton.tsx","..\\..\\Crew UI\\./ClientApp/components/general/buttons/PushButton.tsx","..\\..\\Crew UI\\./ClientApp/components/general/buttons/ToggleButton.tsx","..\\..\\Crew UI\\./ClientApp/components/screens/Connecting.tsx","..\\..\\Crew UI\\./ClientApp/components/screens/Error.tsx","..\\..\\Crew UI\\./ClientApp/components/screens/GameSetup.tsx","..\\..\\Crew UI\\./ClientApp/components/screens/Settings.tsx","..\\..\\Crew UI\\./ClientApp/components/screens/SystemSelection.tsx","..\\..\\Crew UI\\./ClientApp/components/screens/WaitingForPlayers.tsx","..\\..\\Crew UI\\./ClientApp/components/screens/index.ts","..\\..\\Crew UI\\./ClientApp/functionality/Localisation.ts","..\\..\\Crew UI\\./ClientApp/functionality/ShipSystem.ts","..\\..\\Crew UI\\./ClientApp/localisations/English.ts","..\\..\\Crew UI\\./ClientApp/store/index.ts","..\\..\\Crew UI\\./ClientApp/components/general/ButtonSet.scss","..\\..\\Crew UI\\./ClientApp/components/general/Choice.scss","..\\..\\Crew UI\\./ClientApp/components/general/Field.scss","..\\..\\Crew UI\\./ClientApp/components/general/Screen.scss","..\\..\\Crew UI\\./ClientApp/components/general/Textbox.scss","..\\..\\Crew UI\\./ClientApp/components/general/buttons/buttons.scss","..\\..\\Crew UI\\./ClientApp/components/screens/Error.scss","..\\..\\Crew UI\\./ClientApp/components/screens/SystemSelection.scss","..\\..\\Crew UI\\./~/react-hot-loader/lib/AppContainer.js","..\\..\\Crew UI\\./~/react-hot-loader/lib/AppContainer.prod.js","..\\..\\Crew UI\\./~/react-hot-loader/lib/index.js","..\\..\\Crew UI\\./~/react-hot-loader/lib/index.prod.js","..\\..\\Crew UI\\delegated ./node_modules/react-router-redux/es/index.js from dll-reference vendor_a65b3acf96981fd3289a","..\\..\\Crew UI\\delegated ./node_modules/redux-thunk/lib/index.js from dll-reference vendor_a65b3acf96981fd3289a","..\\..\\Crew UI\\delegated ./node_modules/redux/es/index.js from dll-reference vendor_a65b3acf96981fd3289a"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f02be723014c36766e67","module.exports = (__webpack_require__(3))(6);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react/react.js from dll-reference vendor_a65b3acf96981fd3289a\n// module id = 0\n// module chunks = 0","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { AppContainer } from 'react-hot-loader';\r\nimport { Provider } from 'react-redux';\r\nimport { createBrowserHistory } from 'history';\r\nimport configureStore from './configureStore';\r\nimport ScreenManager from './components/ScreenManager';\r\nimport { Connection } from './functionality/Connection';\r\nimport { Hotkeys } from './functionality/Hotkeys';\r\nimport './Client.scss';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nexport const store = configureStore(history);\r\n\r\nexport const connection = new Connection('ws://' + location.host + '/ws');\r\n\r\nHotkeys.initialize();\r\n\r\nfunction renderApp() {\r\n    ReactDOM.render(\r\n        <AppContainer>\r\n            <Provider store={ store }>\r\n                <ScreenManager />\r\n            </Provider>\r\n        </AppContainer>,\r\n        document.getElementById('client-root')\r\n    );\r\n}\r\n\r\nrenderApp();\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/Client.tsx","module.exports = (__webpack_require__(3))(140);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-redux/es/index.js from dll-reference vendor_a65b3acf96981fd3289a\n// module id = 2\n// module chunks = 0","module.exports = vendor_a65b3acf96981fd3289a;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor_a65b3acf96981fd3289a\"\n// module id = 3\n// module chunks = 0","export { ButtonColor, ConfirmButton, HeldButton, PushButton, ToggleButton } from './buttons';\r\nexport { ButtonSet }from './ButtonSet';\r\nexport { Choice }from './Choice';\r\nexport { Field }from './Field';\r\nexport { Screen } from './Screen';\r\nexport { Textbox } from './Textbox';\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/index.ts","import { Action, Reducer, ActionCreator } from 'redux';\r\n\r\n// -----------------\r\n// STATE - This defines the type of data maintained in the Redux store.\r\n\r\nexport interface ScreenState {\r\n    display: ClientScreen;\r\n    gameInProgress: boolean;\r\n    errorMessage?: string;\r\n}\r\n\r\nexport enum ClientScreen {\r\n    Connecting,\r\n    UserSettings,\r\n    WaitingForPlayers,\r\n    SelectingSystems,\r\n    SetupGame,\r\n    ActiveGame,\r\n    WaitingForGame,\r\n    Paused,\r\n    Finished,\r\n    Error,\r\n}\r\n\r\n// -----------------\r\n// ACTIONS - These are serializable (hence replayable) descriptions of state transitions.\r\n// They do not themselves have any side-effects; they just describe something that is going to happen.\r\n\r\ninterface ShowScreenAction {\r\n    type: 'SHOW_SCREEN';\r\n    display: ClientScreen;\r\n}\r\n\r\ninterface SetGameInProgressAction {\r\n    type: 'GAME_IN_PROGRESS';\r\n    inProgress: boolean;\r\n}\r\n\r\ninterface ShowErrorAction {\r\n    type: 'SHOW_ERROR';\r\n    message: string;\r\n}\r\n\r\n// Declare a 'discriminated union' type. This guarantees that all references to 'type' properties contain one of the\r\n// declared type strings (and not any other arbitrary string).\r\ntype KnownAction = ShowScreenAction | SetGameInProgressAction | ShowErrorAction;\r\n\r\n// ----------------\r\n// ACTION CREATORS - These are functions exposed to UI components that will trigger a state transition.\r\n// They don't directly mutate state, but they can have external side-effects (such as loading data).\r\n\r\nexport const actionCreators = {\r\n    showUserSettings: () => <ShowScreenAction>{ type: 'SHOW_SCREEN', display: ClientScreen.UserSettings },\r\n    showWaitingForPlayers: () => <ShowScreenAction>{ type: 'SHOW_SCREEN', display: ClientScreen.WaitingForPlayers },\r\n    showSystemSelection: () => <ShowScreenAction>{ type: 'SHOW_SCREEN', display: ClientScreen.SelectingSystems },\r\n    showGameSetup: () => { /* sendEnterSetup(); */ return <ShowScreenAction>{ type: 'SHOW_SCREEN', display: ClientScreen.SetupGame }},\r\n    showGame: () => <ShowScreenAction>{ type: 'SHOW_SCREEN', display: ClientScreen.ActiveGame },\r\n    showWaitingForGame: () => <ShowScreenAction>{ type: 'SHOW_SCREEN', display: ClientScreen.WaitingForGame },\r\n    showPause: () => <ShowScreenAction>{ type: 'SHOW_SCREEN', display: ClientScreen.Paused },\r\n    showFinish: () => <ShowScreenAction>{ type: 'SHOW_SCREEN', display: ClientScreen.Finished },\r\n    \r\n    setGameInProgress: (inProgress: boolean) => <SetGameInProgressAction>{ type: 'GAME_IN_PROGRESS', inProgress: inProgress },\r\n    showError: (message: string) => <ShowErrorAction>{ type: 'SHOW_ERROR', message: message },\r\n};\r\n\r\n// ----------------\r\n// REDUCER - For a given state and action, returns the new state. To support time travel, this must not mutate the old state.\r\n\r\nconst unloadedState: ScreenState = { display: ClientScreen.Connecting, gameInProgress: false };\r\n\r\nexport const reducer: Reducer<ScreenState> = (state: ScreenState, rawAction: Action) => {\r\n    let action = rawAction as KnownAction;\r\n    switch (action.type) {\r\n        case 'SHOW_SCREEN':\r\n            return {\r\n                ...state,\r\n                display: action.display,\r\n            };\r\n        case 'GAME_IN_PROGRESS':\r\n            return {\r\n                ...state,\r\n                gameInProgress: action.inProgress,\r\n            };\r\n        case 'SHOW_ERROR':\r\n            return {\r\n                ...state,\r\n                display: ClientScreen.Error,\r\n                errorMessage: action.message,\r\n            };\r\n        default:\r\n            // The following line guarantees that every action in the KnownAction union has been covered by a case above\r\n            const exhaustiveCheck: never = action;\r\n    }\r\n\r\n    return state || unloadedState;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/store/Screen.ts","import { Action, Reducer, ActionCreator } from 'redux';\r\nimport { InputMode } from '../functionality/InputMode';\r\nimport { Localisation, Localisations, TextLocalisation } from '../functionality/Localisation';\r\n\r\n// -----------------\r\n// STATE - This defines the type of data maintained in the Redux store.\r\n\r\nexport interface UserState {\r\n    userName: string;\r\n    inputMode: InputMode;\r\n    localisation: Localisation;\r\n    text: TextLocalisation;\r\n    showHotkeys: boolean;\r\n    screenWidth: number;\r\n    screenHeight: number;\r\n}\r\n\r\n// -----------------\r\n// ACTIONS - These are serializable (hence replayable) descriptions of state transitions.\r\n// They do not themselves have any side-effects; they just describe something that is going to happen.\r\n\r\ninterface SetUserNameAction {\r\n    type: 'USER_NAME';\r\n    name: string;\r\n}\r\n\r\ninterface SetInputModeAction {\r\n    type: 'INPUT_MODE';\r\n    inputMode: InputMode;\r\n}\r\n\r\ninterface SetLocalisationAction {\r\n    type: 'LOCALISATION';\r\n    localisation: Localisation;\r\n}\r\n\r\ninterface ShowHotkeysAction {\r\n    type: 'SHOW_HOTKEYS';\r\n    show: boolean;\r\n}\r\n\r\ninterface SetScreenSizeAction {\r\n    type: 'SET_SCREEN_SIZE';\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\n// Declare a 'discriminated union' type. This guarantees that all references to 'type' properties contain one of the\r\n// declared type strings (and not any other arbitrary string).\r\ntype KnownAction = SetUserNameAction | SetInputModeAction | SetLocalisationAction | ShowHotkeysAction | SetScreenSizeAction;\r\n\r\n// ----------------\r\n// ACTION CREATORS - These are functions exposed to UI components that will trigger a state transition.\r\n// They don't directly mutate state, but they can have external side-effects (such as loading data).\r\n\r\nexport const actionCreators = {\r\n    setUserName: (name: string) => {\r\n        localStorage.setItem('userName', name);\r\n        return <SetUserNameAction>{ type: 'USER_NAME', name: name }\r\n    },\r\n    setInputMode: (inputMode: InputMode) => {\r\n        localStorage.setItem('inputMode', inputMode.toString());\r\n        return <SetInputModeAction>{ type: 'INPUT_MODE', inputMode: inputMode }\r\n    },\r\n    setLocalisation: (localisation: Localisation) => <SetLocalisationAction>{ type: 'LOCALISATION', localisation: localisation },\r\n    showHotkeys: (show: boolean) => <ShowHotkeysAction>{ type: 'SHOW_HOTKEYS', show: show },\r\n    setScreenSize: (width: number, height: number) => <SetScreenSizeAction>{ type: 'SET_SCREEN_SIZE', width: width, height: height },\r\n};\r\n\r\n// ----------------\r\n// REDUCER - For a given state and action, returns the new state. To support time travel, this must not mutate the old state.\r\nlet savedInputMode = localStorage.getItem('inputMode');\r\n\r\nconst unloadedState: UserState = {\r\n    userName: localStorage.getItem('userName') || '',\r\n    inputMode: savedInputMode === null ? InputMode.Touchscreen : parseInt(savedInputMode),\r\n    localisation: Localisations[0],\r\n    text: Localisations[0].load(),\r\n    showHotkeys: false,\r\n    screenWidth: window.innerWidth,\r\n    screenHeight: window.innerHeight,\r\n};\r\n\r\nexport const reducer: Reducer<UserState> = (state: UserState, rawAction: Action) => {\r\n    let action = rawAction as KnownAction;\r\n    switch (action.type) {\r\n        case 'USER_NAME':\r\n            return {\r\n                ...state,\r\n                userName: action.name,\r\n            };\r\n        case 'INPUT_MODE':\r\n            return {\r\n                ...state,\r\n                inputMode: action.inputMode,\r\n            };\r\n        case 'LOCALISATION':\r\n            return {\r\n                ...state,\r\n                localisation: action.localisation,\r\n                text: action.localisation.load(),\r\n            };\r\n        case 'SHOW_HOTKEYS':\r\n            return {\r\n                ...state,\r\n                showHotkeys: action.show,\r\n            };\r\n        case 'SET_SCREEN_SIZE':\r\n            return {\r\n                ...state,\r\n                screenWidth: action.width,\r\n                screenHeight: action.height,\r\n            };\r\n        default:\r\n            // The following line guarantees that every action in the KnownAction union has been covered by a case above\r\n            const exhaustiveCheck: never = action;\r\n    }\r\n\r\n    return state || unloadedState;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/store/User.ts","import * as React from 'react';\r\nimport { Hotkey, Hotkeys } from '../../../functionality/Hotkeys';\r\nimport './buttons.scss';\r\n\r\nexport const enum ButtonColor {\r\n    Primary,\r\n    Secondary,\r\n    Tertiary,\r\n    Quaternary,\r\n    Quandry,\r\n}\r\n\r\nexport interface IButtonProps {\r\n    className?: string;\r\n    title?: string;\r\n    hotkey?: Hotkey;\r\n    color?: ButtonColor;\r\n    disabled?: boolean;\r\n    text: string;\r\n    subtext?: string;\r\n    fullBorder?: boolean;\r\n}\r\n\r\ninterface IBaseButtonProps extends IButtonProps {\r\n    buttonType?: string;\r\n    mouseLeave?: React.EventHandler<React.MouseEvent<HTMLButtonElement>>;\r\n    mouseEnter?: React.EventHandler<React.MouseEvent<HTMLButtonElement>>;\r\n    mouseDown?: React.EventHandler<React.MouseEvent<HTMLButtonElement>>;\r\n    mouseUp?: React.EventHandler<React.MouseEvent<HTMLButtonElement>>;\r\n    mouseClick?: React.EventHandler<React.MouseEvent<HTMLButtonElement>>;\r\n}\r\n\r\nexport class Button extends React.Component<IBaseButtonProps, {}> {\r\n    static defaultProps = {\r\n        buttonType: 'button',\r\n        text: '',\r\n        fullBorder: false,\r\n    };\r\n    componentDidMount() {\r\n        if (this.props.hotkey != null)\r\n            Hotkeys.register(this.props.hotkey, this);\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.props.hotkey != null)\r\n            Hotkeys.unregister(this.props.hotkey, this);\r\n    }\r\n    private determineClasses() {\r\n        let classes = 'button';\r\n        if (this.props.className !== undefined) {\r\n            classes += ' ' + this.props.className;\r\n        }\r\n        \r\n        if (this.props.fullBorder)\r\n            classes += ' fullBorder';\r\n\r\n        switch(this.props.color) {\r\n            case ButtonColor.Primary:\r\n                classes += ' button--primary'; break;\r\n            case ButtonColor.Secondary:\r\n                classes += ' button--secondary'; break;\r\n            case ButtonColor.Tertiary:\r\n                classes += ' button--tertiary'; break;\r\n            case ButtonColor.Quaternary:\r\n                classes += ' button--quaternary'; break;\r\n            case ButtonColor.Quandry:\r\n                classes += ' button--quandry'; break;\r\n        }\r\n        \r\n        return classes;\r\n    }\r\n    render(): JSX.Element {\r\n        let subtext = this.props.subtext === undefined ? undefined : <div className=\"button__subtext\">{this.props.subtext}</div>;\r\n\r\n        return <button className={this.determineClasses()} disabled={this.props.disabled}\r\n                onMouseDown={this.props.disabled ? undefined : this.props.mouseDown}\r\n                onMouseUp={this.props.disabled ? undefined : this.props.mouseUp}\r\n                onMouseLeave={this.props.disabled ? undefined : this.props.mouseLeave}\r\n                onClick={this.props.disabled ? undefined : this.props.mouseClick}\r\n                data-hotkey={this.props.hotkey} type={this.props.buttonType}\r\n                title={this.props.title}>\r\n                    {this.props.text}\r\n                    {subtext}\r\n            </button>;\r\n    }\r\n    keyDown(e: any) {\r\n        if (this.props.mouseDown !== undefined)\r\n            this.props.mouseDown(e);\r\n    }\r\n    keyUp(e: any) {\r\n        if (this.props.mouseUp !== undefined)\r\n            this.props.mouseUp(e);\r\n    }\r\n    keyPress(e: any) {\r\n        if (this.props.mouseClick !== undefined)\r\n            this.props.mouseClick(e);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/buttons/Button.tsx","import { store } from '../Client';\r\nimport { actionCreators } from '../store/User';\r\nimport { Button } from '../components/general/buttons/Button';\r\n\r\nexport type Hotkey = 'A' | 'B' | 'C' | 'D' | 'E' | 'F' | 'G' | 'H' | 'I' | 'J' | 'L' | 'K' | 'M'\r\n            | 'N' | 'O' | 'P' | 'Q' | 'R' | 'S' | 'T' | 'U' | 'V' | 'W' | 'X' | 'Y' | 'Z'\r\n            | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' | '0'\r\n            | 'F2' | 'F3' | 'F4' | 'F5' | 'F6' | 'F7' | 'F8' | 'F9' | 'F10'\r\n            | ',' | '.' | '/' | 'enter' | 'space' | 'control' | 'shift' | 'alt' | 'tab';\r\n\r\nexport class Hotkeys {\r\n    private static bindings: { [key: number]:Button; } = {};\r\n    \r\n    private static keyCodes: { [key: string]:number; } = {\r\n        'enter': 13,\r\n        'space': 32,\r\n        'tab' : 9,\r\n        'control': 17,\r\n        'shift': 16,\r\n        'alt': 18,\r\n        'F2': 113,\r\n        'F3': 114,\r\n        'F4': 115,\r\n        'F5': 116,\r\n        'F6': 117,\r\n        'F7': 118,\r\n        'F8': 119,\r\n        'F9': 120,\r\n        'F10': 121,\r\n        ',': 188,\r\n        '.': 190,\r\n        '/': 191,\r\n    };\r\n    private static getKeyCode(hotkey: Hotkey) {\r\n        let keyCode = this.keyCodes[hotkey];\r\n        if (keyCode !== undefined)\r\n            return keyCode;\r\n\r\n        return hotkey.charCodeAt(0);\r\n    }\r\n    static register(hotkey: Hotkey, button: Button) {\r\n        let keyCode = this.getKeyCode(hotkey);\r\n        this.bindings[keyCode] = button;\r\n    }\r\n    static unregister(hotkey: Hotkey, button: Button) {\r\n        let keyCode = this.getKeyCode(hotkey);\r\n        if (this.bindings[keyCode] == button)\r\n            delete this.bindings[keyCode];\r\n    }\r\n    static initialize() {\r\n        document.onkeydown = Hotkeys.onKeyDown;\r\n        document.onkeyup = Hotkeys.onKeyUp;\r\n    }\r\n    private static onKeyDown(e: KeyboardEvent) {\r\n        var button = Hotkeys.bindings[e.which];\r\n        if (button === undefined) {\r\n            if (e.which === 112) {\r\n                store.dispatch(actionCreators.showHotkeys(!store.getState().user.showHotkeys));\r\n                e.preventDefault();\r\n            }\r\n            return;\r\n        }\r\n        \r\n        if (button.keyDown !== undefined)\r\n            button.keyDown(e);\r\n    }\r\n    private static onKeyUp(e: KeyboardEvent) {\r\n        var button = Hotkeys.bindings[e.which];\r\n        if (button === undefined)\r\n            return;\r\n        \r\n        if (button.keyUp !== undefined)\r\n            button.keyUp(e);\r\n        if (button.keyPress !== undefined)\r\n            button.keyPress(e);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/functionality/Hotkeys.ts","import * as React from 'react';\r\nimport { ButtonColor, ConfirmButton, HeldButton, PushButton, ToggleButton } from './buttons';\r\nimport { IButtonProps } from './buttons/Button';\r\nimport { IToggleButtonProps } from './buttons/ToggleButton';\r\nimport './ButtonSet.scss';\r\n\r\nexport interface IButtonSetBaseProps {\r\n    vertical?: boolean;\r\n    className?: string;\r\n    color?: ButtonColor;\r\n    disabled?: boolean;\r\n    allowUnselected?: boolean;\r\n}\r\n\r\ninterface IButtonSetProps extends IButtonSetBaseProps {\r\n    childActivated?: (activated: ToggleButton) => void;\r\n}\r\n\r\nexport class ButtonSet extends React.Component<IButtonSetProps, {}> {\r\n    static defaultProps = {\r\n        vertical: false,\r\n        allowUnselected: true,\r\n    };\r\n\r\n    render() {\r\n        let classes = 'buttonset';\r\n        if (this.props.vertical)\r\n            classes += ' buttonset--vertical';\r\n        if (this.props.className !== undefined)\r\n            classes += ' ' + this.props.className;\r\n        \r\n        const childrenWithProps = React.Children.map(this.props.children, child => {\r\n            if (typeof child === 'string' || typeof child === 'number' || child === null)\r\n                return child;\r\n\r\n            if (child.type !== PushButton && child.type !== ToggleButton && child.type !== HeldButton && child.type !== ConfirmButton)\r\n                return child;\r\n\r\n            let childHasColor = child.props.color !== undefined;\r\n            let childProps: Partial<IButtonProps> = {\r\n                disabled: this.props.disabled || child.props.disabled,\r\n                color: childHasColor ? child.props.color : this.props.color,\r\n                fullBorder: childHasColor && this.props.color !== undefined,\r\n            }\r\n            \r\n            if (child.type === ToggleButton) {\r\n                let toggleProps = childProps as IToggleButtonProps;\r\n                toggleProps.allowUserDeactivate = this.props.allowUnselected\r\n                toggleProps.choiceOptionActivated = this.props.childActivated;\r\n            }\r\n            \r\n            return React.cloneElement(child, childProps);\r\n        });\r\n\r\n        return (\r\n        <div className={classes}>\r\n            {childrenWithProps}\r\n        </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/ButtonSet.tsx","export { ButtonColor } from './Button';\r\nexport { ConfirmButton } from './ConfirmButton';\r\nexport { HeldButton } from './HeldButton';\r\nexport { PushButton } from './PushButton';\r\nexport { ToggleButton } from './ToggleButton';\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/buttons/index.ts","import { Action, Reducer, ActionCreator } from 'redux';\r\nimport { ShipSystem } from '../functionality/ShipSystem';\r\n\r\n// -----------------\r\n// STATE - This defines the type of data maintained in the Redux store.\r\n\r\nexport interface CrewState {\r\n    players: CrewPlayer[];\r\n    localPlayerID?: number;\r\n    playerInSetup?: number;\r\n}\r\n\r\nexport interface CrewPlayer {\r\n    id: number;\r\n    name: string;\r\n    flags: ShipSystem;\r\n}\r\n\r\n// -----------------\r\n// ACTIONS - These are serializable (hence replayable) descriptions of state transitions.\r\n// They do not themselves have any side-effects; they just describe something that is going to happen.\r\n\r\ninterface RemovePlayerAction {\r\n    type: 'REMOVE_PLAYER';\r\n    playerID: number;\r\n}\r\n\r\ninterface UpdatePlayerAction {\r\n    type: 'UPDATE_PLAYER';\r\n    playerID: number;\r\n    name: string;\r\n}\r\n\r\ninterface SetPlayerSystemsAction {\r\n    type: 'SET_PLAYER_SYSTEMS';\r\n    playerID: number;\r\n    flags: ShipSystem;\r\n}\r\n\r\ninterface SetLocalPlayerAction {\r\n    type: 'SET_LOCAL_PLAYER';\r\n    playerID: number;\r\n}\r\n\r\ninterface SetSetupPlayerAction {\r\n    type: 'SET_SETUP_PLAYER';\r\n    playerID?: number;\r\n}\r\n\r\n// Declare a 'discriminated union' type. This guarantees that all references to 'type' properties contain one of the\r\n// declared type strings (and not any other arbitrary string).\r\ntype KnownAction = RemovePlayerAction | UpdatePlayerAction | SetPlayerSystemsAction | SetLocalPlayerAction | SetSetupPlayerAction;\r\n\r\n// ----------------\r\n// ACTION CREATORS - These are functions exposed to UI components that will trigger a state transition.\r\n// They don't directly mutate state, but they can have external side-effects (such as loading data).\r\n\r\nexport const actionCreators = {\r\n    updatePlayer: (playerID: number, name: string) => <UpdatePlayerAction>{ type: 'UPDATE_PLAYER', playerID: playerID, name: name },\r\n    removePlayer: (playerID: number) => <RemovePlayerAction>{ type: 'REMOVE_PLAYER', playerID: playerID },\r\n    setPlayerSystems: (playerID: number, flags: ShipSystem) => <SetPlayerSystemsAction>{ type: 'SET_PLAYER_SYSTEMS', playerID: playerID, flags: flags },\r\n    setLocalPlayer: (playerID: number) => <SetLocalPlayerAction>{ type: 'SET_LOCAL_PLAYER', playerID: playerID },\r\n    setSetupPlayer: (playerID: number | undefined) => <SetSetupPlayerAction>{ type: 'SET_SETUP_PLAYER', playerID: playerID },\r\n};\r\n\r\n// ----------------\r\n// REDUCER - For a given state and action, returns the new state. To support time travel, this must not mutate the old state.\r\n\r\nconst unloadedState: CrewState = { players: [] };\r\n\r\nexport const reducer: Reducer<CrewState> = (state: CrewState, action: KnownAction) => {\r\n    switch (action.type) {\r\n        case 'REMOVE_PLAYER':\r\n            return {\r\n                ...state,\r\n                players: state.players.filter(p => p.id !== action.playerID),\r\n            };\r\n        case 'UPDATE_PLAYER':\r\n            let existing = false;\r\n            let players = state.players.map((player, index) => {\r\n                if (player.id === action.playerID) {\r\n                    existing = true;\r\n                    return Object.assign({}, player, {\r\n                        name: action.name\r\n                    });\r\n                }\r\n                return player;\r\n            });\r\n\r\n            if (!existing) {\r\n                players.push({\r\n                    id: action.playerID,\r\n                    name: action.name,\r\n                    flags: 0,\r\n                });\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                players: players,\r\n            };\r\n        case 'SET_PLAYER_SYSTEMS':\r\n            return {\r\n                ...state,\r\n                players: state.players.map((player, index) => {\r\n                    if (player.id === action.playerID) {\r\n                        return Object.assign({}, player, {\r\n                            flags: action.flags\r\n                        });\r\n                    }\r\n                    return player;\r\n                }),\r\n            };\r\n        case 'SET_LOCAL_PLAYER':\r\n            return {\r\n                ...state,\r\n                localPlayerID: action.playerID,\r\n            };\r\n        case 'SET_SETUP_PLAYER':\r\n            return {\r\n                ...state,\r\n                playerInSetup: action.playerID,\r\n            };\r\n        default:\r\n            // The following line guarantees that every action in the KnownAction union has been covered by a case above\r\n            const exhaustiveCheck: never = action;\r\n    }\r\n\r\n    return state || unloadedState;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/store/Crew.ts","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ApplicationState }  from '../store';\r\nimport { ClientScreen } from '../store/Screen';\r\nimport * as UserStore from '../store/User';\r\nimport * as Screen from './screens'\r\n\r\ninterface ScreenManagerDataProps {\r\n    screen: ClientScreen;\r\n    errorMessage?: string;\r\n    showHotkeys: boolean;\r\n}\r\n\r\ntype ScreenManagerProps = ScreenManagerDataProps\r\n    & typeof UserStore.actionCreators;\r\n\r\nclass ScreenManager extends React.Component<ScreenManagerProps, {}> {\r\n    componentWillMount() {\r\n        this.updateDimensions();\r\n        window.addEventListener('resize', () => this.updateDimensions());\r\n    }\r\n\r\n    render() {\r\n        let classes = 'client';\r\n        if (this.props.showHotkeys) {\r\n            classes += ' client--showHotkeys';\r\n        }\r\n        \r\n        return <div className={classes}>{this.renderScreen()}</div>;\r\n    }\r\n\r\n    private renderScreen() {\r\n        switch (this.props.screen) {\r\n            case ClientScreen.Connecting:\r\n                return <Screen.Connecting />;\r\n            case ClientScreen.UserSettings:\r\n                return <Screen.Settings />;\r\n            case ClientScreen.WaitingForPlayers:\r\n                return <Screen.WaitingForPlayers />;\r\n            case ClientScreen.SelectingSystems:\r\n                return <Screen.SystemSelection />;\r\n            case ClientScreen.SetupGame:\r\n                return <Screen.GameSetup />;\r\n            case ClientScreen.Error:\r\n                return <Screen.Error />;\r\n            default:\r\n                return <h1 className=\"screen__heading\">Unable to render screen: {this.props.screen}</h1>;\r\n        }\r\n    }\r\n\r\n    private updateDimensions() {\r\n        this.props.setScreenSize(window.innerWidth, window.innerHeight);\r\n    }\r\n}\r\n\r\n// Selects which state properties are merged into the component's props\r\nconst mapStateToProps: (state: ApplicationState) => ScreenManagerDataProps = (state) => {\r\n    return {\r\n        screen: state.screen.display,\r\n        errorMessage: state.screen.errorMessage,\r\n        showHotkeys: state.user.showHotkeys,\r\n    }\r\n};\r\n\r\n// Wire up the React component to the Redux store\r\nexport default connect(\r\n    mapStateToProps,\r\n    UserStore.actionCreators,\r\n)(ScreenManager);\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/ScreenManager.tsx","import { createStore, applyMiddleware, compose, combineReducers, GenericStoreEnhancer, Store, StoreEnhancerStoreCreator, ReducersMapObject } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { routerReducer, routerMiddleware } from 'react-router-redux';\r\nimport * as StoreModule from './store';\r\nimport { ApplicationState, reducers } from './store';\r\nimport { History } from 'history';\r\n\r\nexport default function configureStore(history: History, initialState?: ApplicationState) {\r\n    // Build middleware. These are functions that can process the actions before they reach the store.\r\n    const windowIfDefined = typeof window === 'undefined' ? null : window as any;\r\n    // If devTools is installed, connect to it\r\n    const devToolsExtension = windowIfDefined && windowIfDefined.devToolsExtension as () => GenericStoreEnhancer;\r\n    const createStoreWithMiddleware = compose(\r\n        applyMiddleware(thunk, routerMiddleware(history)),\r\n        devToolsExtension ? devToolsExtension() : <S>(next: StoreEnhancerStoreCreator<S>) => next\r\n    )(createStore);\r\n\r\n    // Combine all reducers and instantiate the app-wide store instance\r\n    const allReducers = buildRootReducer(reducers);\r\n    const store = createStoreWithMiddleware(allReducers, initialState) as Store<ApplicationState>;\r\n\r\n    // Enable Webpack hot module replacement for reducers\r\n    if (module.hot) {\r\n        module.hot.accept('./store', () => {\r\n            const nextRootReducer = require<typeof StoreModule>('./store');\r\n            store.replaceReducer(buildRootReducer(nextRootReducer.reducers));\r\n        });\r\n    }\r\n\r\n    return store;\r\n}\r\n\r\nfunction buildRootReducer(allReducers: ReducersMapObject) {\r\n    return combineReducers<ApplicationState>(Object.assign({}, allReducers, { routing: routerReducer }));\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/configureStore.ts","import { store } from '../Client';\r\nimport { actionCreators as crewActions } from '../store/Crew';\r\nimport { actionCreators as userActions } from '../store/User';\r\nimport { actionCreators as screenActions } from '../store/Screen';\r\nimport { TextLocalisation } from './Localisation';\r\nimport { ShipSystem } from 'ClientApp/functionality/ShipSystem';\r\n\r\nexport class Connection {\r\n    private socket: WebSocket;\r\n    close: () => void;\r\n\r\n    constructor(url: string) {\r\n        this.socket = new WebSocket(url);\r\n        this.socket.onerror = this.socket.onclose = () => store.dispatch(screenActions.showError(store.getState().user.text.errors.connectionLost));\r\n        this.socket.onmessage = e => this.messageReceived(e);\r\n        this.socket.onopen = () => this.connected();\r\n        this.close = () => this.socket.close();\r\n    }\r\n    \r\n    send(cmd: string) {\r\n        this.socket.send(cmd);\r\n    }\r\n\r\n    private connected() {\r\n        store.dispatch(screenActions.showUserSettings());\r\n    }\r\n    \r\n    private messageReceived(ev: MessageEvent) {\r\n        let data:string = (ev.data || '');\r\n        console.log('received', data);\r\n\r\n        let pos:number = data.indexOf(' ');\r\n        let cmd:string = pos === -1 ? data : data.substr(0, pos);\r\n        data = pos === -1 ? '' : data.substr(pos + 1);\r\n\r\n        switch (cmd) {\r\n            case 'id':\r\n                store.dispatch(crewActions.setLocalPlayer(parseInt(data)));\r\n                break;\r\n            case 'all_present':\r\n                store.dispatch(screenActions.showSystemSelection());\r\n                break;\r\n            case 'player': {\r\n                pos = data.indexOf(' ');\r\n                let playerID = parseInt(data.substr(0, pos));\r\n                let playerName = data.substr(pos + 1);\r\n                store.dispatch(crewActions.updatePlayer(playerID, playerName));\r\n                break;\r\n            }\r\n            case 'playersys': {\r\n                pos = data.indexOf(' ');\r\n                let playerID = parseInt(data.substr(0, pos));\r\n                let systems = parseInt(data.substr(pos + 1)) as ShipSystem;\r\n                store.dispatch(crewActions.setPlayerSystems(playerID, systems));\r\n                break;\r\n            }\r\n            case 'disconnect':\r\n                store.dispatch(crewActions.removePlayer(parseInt(data)));\r\n                break;\r\n            case 'setup+': {\r\n                let playerID = parseInt(data);\r\n                store.dispatch(crewActions.setSetupPlayer(playerID));\r\n                if (playerID === store.getState().crew.localPlayerID) {\r\n                    store.dispatch(screenActions.showGameSetup());\r\n                }\r\n                break;\r\n            }\r\n            case 'setup-':\r\n                store.dispatch(crewActions.setSetupPlayer(undefined));\r\n                break;\r\n            default:\r\n                console.log(`Unexpected command: ${cmd}`);\r\n                break;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/functionality/Connection.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/Client.scss\n// module id = 15\n// module chunks = 0","module.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-hot-loader/index.js\n// module id = 16\n// module chunks = 0","module.exports = (__webpack_require__(3))(138);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/history/es/index.js from dll-reference vendor_a65b3acf96981fd3289a\n// module id = 17\n// module chunks = 0","module.exports = (__webpack_require__(3))(139);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-dom/index.js from dll-reference vendor_a65b3acf96981fd3289a\n// module id = 18\n// module chunks = 0","import * as React from 'react';\r\nimport { ButtonSet, IButtonSetBaseProps } from './ButtonSet';\r\nimport { ButtonColor, ConfirmButton, HeldButton, PushButton, ToggleButton } from './buttons';\r\nimport './Choice.scss';\r\n\r\ninterface IChoiceProps extends IButtonSetBaseProps {\r\n    prompt?: string;\r\n}\r\n\r\ninterface IChoiceState {\r\n    activeChild?: ToggleButton;\r\n}\r\n\r\nexport class Choice extends React.Component<IChoiceProps, IChoiceState> {\r\n    static defaultProps = {\r\n        vertical: false,\r\n        allowUnselected: false,\r\n    };\r\n\r\n    constructor(props: IChoiceProps) {\r\n        super(props);\r\n        this.state = {\r\n            activeChild: undefined\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let classes = 'choice';\r\n        if (this.props.className !== undefined)\r\n            classes += ' ' + this.props.className;\r\n\r\n        let prompt = this.props.prompt == null ? null : <div className=\"choice__prompt\">{this.props.prompt}</div>;\r\n\r\n        return (\r\n            <div className={classes}>\r\n                {prompt}\r\n                <ButtonSet vertical={this.props.vertical}\r\n                    disabled={this.props.disabled} color={this.props.color}\r\n                    allowUnselected={this.props.allowUnselected} childActivated={c => this.childActivated(c)}>\r\n                        {this.props.children}\r\n                </ButtonSet>\r\n                {this.renderDescription()}\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    private renderDescription() {\r\n        let anyDesc = false;\r\n        React.Children.forEach(this.props.children as React.ReactNode, function (child: any) {\r\n            if (child.props.description !== undefined)\r\n                anyDesc = true;\r\n        });\r\n\r\n        if (!anyDesc)\r\n            return undefined;\r\n\r\n        let description: string, descClass: string;\r\n        if (this.state.activeChild !== undefined && this.state.activeChild.props.description !== undefined) {\r\n            description = this.state.activeChild.props.description;\r\n            descClass = 'choice__description';\r\n        }\r\n        else {\r\n            description = '.';\r\n            descClass = 'choice__description choice__description--hidden';\r\n        }\r\n        \r\n        return <div className={descClass}>{description}</div>;\r\n    }\r\n\r\n    private childActivated(activated: ToggleButton) {\r\n        if (this.state.activeChild !== undefined)\r\n            this.state.activeChild.setState({active: false});\r\n\r\n        this.setState({activeChild: activated});\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/Choice.tsx","import * as React from 'react';\r\nimport './Field.scss';\r\n\r\ninterface IFieldProps {\r\n    labelText?: string;\r\n    labelBehaviour?: boolean;\r\n    description?: string;\r\n    centered?: boolean;\r\n    displayAsRow?: boolean;\r\n}\r\n\r\nexport class Field extends React.Component<IFieldProps, {}> {\r\n    static defaultProps = {\r\n        centered: false,\r\n        labelBehaviour: false,\r\n        displayAsRow: false,\r\n    };\r\n\r\n    render() {\r\n        let contentClasses = 'field__content';\r\n\r\n        if (this.props.centered) {\r\n            contentClasses += ' field__content--centered';\r\n        }\r\n\r\n        if (this.props.displayAsRow) {\r\n            contentClasses += ' field__content--row';\r\n        }\r\n\r\n        let label;\r\n        if (this.props.labelText !== undefined) {\r\n            label = <div className=\"field__label\">{this.props.labelText}</div>;\r\n        }\r\n\r\n        if (this.props.labelBehaviour) {\r\n            return (\r\n                <label className='field'>\r\n                    {label}\r\n                    <div className={contentClasses}>\r\n                        {this.props.children}\r\n                    </div>\r\n                </label>\r\n            );\r\n        } else {\r\n            return (\r\n                <div className='field' role=\"group\">\r\n                    {label}\r\n                    <div className={contentClasses}>\r\n                        {this.props.children}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/Field.tsx","import * as React from 'react';\r\nimport './Screen.scss';\r\n\r\ninterface IScreenProps {\r\n    centered?: boolean;\r\n    pageLayout?: boolean;\r\n    className?: string;\r\n    heading?: string;\r\n}\r\n\r\nexport class Screen extends React.Component<IScreenProps, {}> {\r\n    static defaultProps = {\r\n        centered: false,\r\n        pageLayout: false,\r\n    };\r\n\r\n    render() {\r\n        let classes = 'screen';\r\n\r\n        if (this.props.className !== undefined) {\r\n            classes += ' ' + this.props.className;\r\n        }\r\n\r\n        if (this.props.centered) {\r\n            classes += ' screen--centered';\r\n        }\r\n        \r\n        if (this.props.pageLayout) {\r\n            classes += ' screen--pageLayout';\r\n        }\r\n\r\n        let heading;\r\n        if (this.props.heading !== undefined) {\r\n            heading = <h1 className=\"screen__heading\">{this.props.heading}</h1>;\r\n        }\r\n\r\n        return (\r\n            <div className={classes}>\r\n                {heading}\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/Screen.tsx","import * as React from 'react';\r\nimport { ButtonColor } from './buttons';\r\nimport './Textbox.scss';\r\n\r\ninterface ITextboxProps {\r\n    color?: ButtonColor;\r\n    text?: string;\r\n    placeholder?: string;\r\n    textChanged: (text: string) => void;\r\n}\r\n\r\nexport class Textbox extends React.Component<ITextboxProps, {}> {\r\n    static defaultProps = {\r\n        centered: false,\r\n        labelBehaviour: true,\r\n    };\r\n\r\n    render() {\r\n        let classes = 'textbox';\r\n\r\n        switch(this.props.color) {\r\n            case ButtonColor.Primary:\r\n                classes += ' textbox--primary'; break;\r\n            case ButtonColor.Secondary:\r\n                classes += ' textbox--secondary'; break;\r\n            case ButtonColor.Tertiary:\r\n                classes += ' textbox--tertiary'; break;\r\n            case ButtonColor.Quaternary:\r\n                classes += ' textbox--quaternary'; break;\r\n            case ButtonColor.Quandry:\r\n                classes += ' textbox--quandry'; break;\r\n        }\r\n\r\n        return (\r\n            <input\r\n                className={classes}\r\n                type=\"text\"\r\n                value={this.props.text}\r\n                onChange={e => this.props.textChanged(e.target.value)}\r\n                placeholder={this.props.placeholder}\r\n            />\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/Textbox.tsx","import * as React from 'react';\r\nimport { Button, IButtonProps } from './Button';\r\nimport { connection } from '../../../Client';\r\n\r\ninterface IConfirmButtonProps extends IButtonProps {\r\n    clicked?: () => void;\r\n    command?: string;\r\n}\r\n\r\ninterface IConfirmButtonState {\r\n    primed: boolean;\r\n}\r\n\r\nexport class ConfirmButton extends React.Component<IConfirmButtonProps, IConfirmButtonState> {\r\n    constructor(props: IConfirmButtonProps) {\r\n        super(props);\r\n        this.state = { primed: false };\r\n    }\r\n    render() {\r\n        let classList = this.state.primed ? 'button--confirm state--active' : 'button--confirm';\r\n        if (this.props.className !== undefined)\r\n            classList += ' ' + this.props.className;\r\n        \r\n        return <Button className={classList} hotkey={this.props.hotkey} mouseClick={e => this.clicked(e)} buttonType=\"submit\" color={this.props.color} fullBorder={this.props.fullBorder}\r\n                disabled={this.props.disabled} text={this.props.text} subtext={this.props.subtext} title={this.props.title} />;\r\n    }\r\n    autoCancel?: number;\r\n    private clicked(e: React.MouseEvent<HTMLButtonElement>) {\r\n        if (this.state.primed) {\r\n            this.clearAutoCancel();\r\n\r\n            if (this.props.clicked != undefined)\r\n                this.props.clicked();\r\n            \r\n            if (this.props.command !== undefined)\r\n                connection.send(this.props.command);\r\n        }\r\n        else {\r\n            this.autoCancel = setTimeout(() => this.cancelPrime(), 10000);\r\n        }\r\n\r\n        this.setState({primed: !this.state.primed});\r\n        e.preventDefault();\r\n    }\r\n    private cancelPrime() {\r\n        if (this.state.primed)\r\n            this.setState({primed: false});\r\n        this.autoCancel = undefined;\r\n    }\r\n    private clearAutoCancel() {\r\n        if (this.autoCancel !== undefined) {\r\n            clearTimeout(this.autoCancel);\r\n            this.autoCancel = undefined;\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        this.clearAutoCancel();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/buttons/ConfirmButton.tsx","import * as React from 'react';\r\nimport { Button, IButtonProps } from './Button';\r\nimport { connection } from '../../../Client';\r\n\r\ninterface IHeldButtonProps extends IButtonProps {\r\n    pressed?: () => void;\r\n    released?: () => void;\r\n\r\n    pressCommand?: string;\r\n    releaseCommand?: string;\r\n}\r\n\r\ninterface IHeldButtonState {\r\n    held: boolean;\r\n}\r\n\r\nexport class HeldButton extends React.Component<IHeldButtonProps, IHeldButtonState> {\r\n    constructor(props: IHeldButtonProps) {\r\n        super(props);\r\n        this.state = { held: false };\r\n    }\r\n    render() {\r\n        let classList = this.state.held ? 'button--held state--active' : 'button--held';\r\n        if (this.props.className !== undefined)\r\n            classList += ' ' + this.props.className;\r\n        \r\n        return <Button className={classList} hotkey={this.props.hotkey} text={this.props.text} subtext={this.props.subtext} fullBorder={this.props.fullBorder}\r\n                mouseDown={e => this.mouseDown(e)} mouseUp={e => this.mouseUp(e)} color={this.props.color} disabled={this.props.disabled} title={this.props.title} />;\r\n    }\r\n    private mouseDown(e: React.MouseEvent<HTMLButtonElement>) {\r\n        this.setState({held: true});\r\n\r\n        if (this.props.pressed != undefined)\r\n            this.props.pressed();\r\n\r\n        if (this.props.pressCommand !== undefined)\r\n            connection.send(this.props.pressCommand);\r\n    }\r\n    private mouseUp(e: React.MouseEvent<HTMLButtonElement>) {\r\n        if (!this.state.held)\r\n            return;\r\n\r\n        this.setState({held: false});\r\n\r\n        if (this.props.released != undefined)\r\n            this.props.released();\r\n        \r\n        if (this.props.releaseCommand !== undefined)\r\n            connection.send(this.props.releaseCommand);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/buttons/HeldButton.tsx","import * as React from 'react';\r\nimport { Button, IButtonProps } from './Button';\r\nimport { connection } from '../../../Client';\r\n\r\ninterface IPushButtonProps extends IButtonProps {\r\n    clicked?: () => void;\r\n    command?: string;\r\n}\r\n\r\ninterface IPushButtonState {\r\n    held: boolean;\r\n}\r\n\r\nexport class PushButton extends React.Component<IPushButtonProps, IPushButtonState> {\r\n    constructor(props: IPushButtonProps) {\r\n        super(props);\r\n        this.state = { held: false };\r\n    }\r\n    render() {\r\n        let classList = this.state.held ? 'button--push state--active' : 'button--push';\r\n        if (this.props.className !== undefined)\r\n            classList += ' ' + this.props.className;\r\n        \r\n        return <Button className={classList} hotkey={this.props.hotkey} mouseClick={e => this.clicked(e)} color={this.props.color} disabled={this.props.disabled} fullBorder={this.props.fullBorder}\r\n                mouseDown={e => this.mouseDown(e)} mouseUp={e => this.mouseUp(e)} title={this.props.title} text={this.props.text} subtext={this.props.subtext} />;\r\n    }\r\n    private clicked(e: React.MouseEvent<HTMLButtonElement>) {\r\n        if (this.props.clicked !== undefined)\r\n            this.props.clicked();\r\n        \r\n        if (this.props.command !== undefined)\r\n            connection.send(this.props.command);\r\n    }\r\n    private mouseDown(e: React.MouseEvent<HTMLButtonElement>) {\r\n        this.setState({held: true});\r\n    }\r\n    private mouseUp(e: React.MouseEvent<HTMLButtonElement>) {\r\n        this.setState({held: false});\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/buttons/PushButton.tsx","import * as React from 'react';\r\nimport { Button, IButtonProps } from './Button';\r\nimport { connection } from '../../../Client';\r\n\r\nexport interface IToggleButtonProps extends IButtonProps {\r\n    startActive?: boolean;\r\n    activated?: () => void;\r\n    deactivated?: () => void;\r\n    activateCommand?: string;\r\n    deactivateCommand?: string;\r\n\r\n    allowUserDeactivate?: boolean;\r\n    choiceOptionActivated?: (activated: ToggleButton) => void;\r\n    description?: string;\r\n}\r\n\r\ninterface IToggleButtonState {\r\n    active: boolean;\r\n}\r\n\r\nexport class ToggleButton extends React.Component<IToggleButtonProps, IToggleButtonState> {\r\n    static defaultProps = {\r\n        inChoice: false,\r\n        startActive: false,\r\n        allowUserDeactivate: true,\r\n    };\r\n    constructor(props: IToggleButtonProps) {\r\n        super(props);\r\n        this.state = { active: props.startActive === true };\r\n    }\r\n    componentWillMount() {\r\n        if (this.props.startActive === true && this.props.choiceOptionActivated !== undefined)\r\n            this.props.choiceOptionActivated(this);\r\n    }\r\n    render() {\r\n        let classList = this.state.active ? 'button--toggle state--active' : 'button--toggle';\r\n        if (this.props.className !== undefined)\r\n            classList += ' ' + this.props.className;\r\n        \r\n        return <Button className={classList} hotkey={this.props.hotkey} mouseClick={e => this.clicked(e)} color={this.props.color} fullBorder={this.props.fullBorder}\r\n                disabled={this.props.disabled} text={this.props.text} subtext={this.props.subtext} title={this.props.title} />;\r\n    }\r\n    private clicked(e: React.MouseEvent<HTMLButtonElement>) {\r\n        if (this.state.active) {\r\n            if (this.props.allowUserDeactivate === false)\r\n                return; // in a choice, don't deactivate a button by clicking on it\r\n\r\n            if (this.props.deactivated != undefined)\r\n               this.props.deactivated();\r\n\r\n            if (this.props.deactivateCommand !== undefined)\r\n                connection.send(this.props.deactivateCommand);\r\n        }\r\n        else {\r\n            if (this.props.choiceOptionActivated !== undefined)\r\n                this.props.choiceOptionActivated(this);\r\n\r\n            if (this.props.activated != undefined)\r\n                this.props.activated();\r\n            \r\n            if (this.props.activateCommand !== undefined)\r\n                connection.send(this.props.activateCommand);\r\n        }\r\n        \r\n        this.setState({active: !this.state.active});\r\n    }\r\n    select(selected: boolean) {\r\n        this.setState({active: selected});\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/general/buttons/ToggleButton.tsx","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ApplicationState }  from '../../store';\r\nimport * as UserStore from '../../store/User';\r\nimport { TextLocalisation } from '../../functionality/Localisation';\r\nimport { Screen } from '../general';\r\n\r\ninterface ConnectingDataProps {\r\n    text: TextLocalisation;\r\n}\r\n\r\ntype ConnectingProps =\r\n    ConnectingDataProps\r\n    & typeof UserStore.actionCreators;\r\n\r\n\r\nclass Connecting extends React.Component<ConnectingProps, {}> {\r\n    public render() {\r\n        return <Screen centered={true} heading={this.props.text.screens.connecting.connecting} />;\r\n    }\r\n}\r\n\r\n// Selects which state properties are merged into the component's props\r\nconst mapStateToProps: (state: ApplicationState) => ConnectingDataProps = (state) => {\r\n    return {\r\n        text: state.user.text,\r\n    }\r\n};\r\n\r\n// Wire up the React component to the Redux store\r\nexport default connect(\r\n    mapStateToProps,\r\n    UserStore.actionCreators\r\n)(Connecting);\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/screens/Connecting.tsx","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ApplicationState }  from '../../store';\r\nimport { TextLocalisation } from '../../functionality/Localisation';\r\nimport { Screen } from '../general';\r\nimport './Error.scss';\r\n\r\ninterface ErrorProps {\r\n    text: TextLocalisation;\r\n    message: string;\r\n}\r\n\r\nclass Error extends React.Component<ErrorProps, {}> {\r\n    public render() {\r\n        return <Screen centered={true} heading={this.props.text.screens.error.heading}>\r\n            <div className=\"errorMessage\">{this.props.message}</div>\r\n        </Screen>;\r\n    }\r\n}\r\n\r\n// Selects which state properties are merged into the component's props\r\nconst mapStateToProps: (state: ApplicationState) => ErrorProps = (state) => {\r\n    return {\r\n        text: state.user.text,\r\n        message: state.screen.errorMessage === undefined ? state.user.text.errors.unknown : state.screen.errorMessage,\r\n    }\r\n};\r\n\r\n// Wire up the React component to the Redux store\r\nexport default connect(\r\n    mapStateToProps,\r\n    {}\r\n)(Error);\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/screens/Error.tsx","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { store, connection }  from '../../Client';\r\nimport { ApplicationState }  from '../../store';\r\nimport * as UserStore from '../../store/User';\r\nimport * as ScreenStore from '../../store/Screen';\r\nimport * as CrewStore from '../../store/Crew';\r\nimport { InputMode } from '../../functionality/InputMode';\r\nimport { Localisation, Localisations, TextLocalisation } from '../../functionality/Localisation';\r\nimport { ToggleButton, PushButton, ConfirmButton, ButtonColor, Screen, Field, Choice, Textbox } from '../general';\r\n\r\nconst enum GameType {\r\n    Local,\r\n    Join,\r\n    Host,\r\n}\r\n\r\nconst enum GameMode {\r\n    Arena,\r\n    Survival,\r\n    Exploration,\r\n}\r\n\r\ntype Difficulty = 1|2|3|4|5|6|7|8|9|10;\r\n\r\ninterface IGameSetupDataProps {\r\n    text: TextLocalisation;\r\n    screenWidth: number;\r\n    screenHeight: number;\r\n}\r\n\r\ntype GameSetupProps =\r\n    IGameSetupDataProps\r\n    & typeof ScreenStore.actionCreators;\r\n\r\ninterface IGameSetupState {\r\n    shipName?: string;\r\n    joinAddress?: string;\r\n    serverName?: string;\r\n    gameType?: GameType;\r\n    gameMode?: GameMode;\r\n    difficulty?: Difficulty;\r\n}\r\n\r\nclass GameSetup extends React.Component<GameSetupProps, IGameSetupState> {\r\n    constructor(props: GameSetupProps) {\r\n        super(props);\r\n\r\n        // TODO: load these from localStorage\r\n        this.state = {\r\n            shipName: this.getRandomName(),\r\n            joinAddress: '',\r\n            serverName: '',\r\n        };\r\n    }\r\n\r\n    public render() {\r\n        let words = this.props.text.screens.gameSetup;\r\n        let choicesVertical = this.props.screenWidth < 300;\r\n\r\n        let joinAddress: JSX.Element | undefined;\r\n        let gameMode: JSX.Element | undefined;\r\n        let difficulty: JSX.Element | undefined;\r\n        let hostName: JSX.Element | undefined;\r\n\r\n        if (this.state.gameType === GameType.Join) {\r\n            joinAddress = (\r\n            <Field labelText={words.joinAddress} labelBehaviour={true}>\r\n                <Textbox color={ButtonColor.Tertiary} text={this.state.joinAddress} placeholder={words.joinAddressPlaceholder} textChanged={address => this.setState({ joinAddress: address })} />\r\n                <div className=\"description\">{words.joinAddressDescription}</div>\r\n            </Field>\r\n            );\r\n        }\r\n        else {\r\n            if (this.state.gameType !== undefined) {\r\n                gameMode = (\r\n                <Field labelText={words.gameMode}>\r\n                    <Choice prompt={words.gameModePrompt} color={ButtonColor.Primary} vertical={choicesVertical}>\r\n                        <ToggleButton activated={() => this.setState({ gameMode: GameMode.Exploration })} description={words.gameModeExplorationDescription} text={words.gameModeExploration} />\r\n                        <ToggleButton activated={() => this.setState({ gameMode: GameMode.Survival })} description={words.gameModeSurvivalDescription} text={words.gameModeSurvival} />\r\n                        <ToggleButton activated={() => this.setState({ gameMode: GameMode.Arena })} description={words.gameModeArenaDescription} text={words.gameModeArena} disabled={this.state.gameType === GameType.Local} />\r\n                    </Choice>\r\n                </Field>\r\n                );\r\n\r\n                if (this.usesDifficulty()) {        \r\n                    let levels = [];\r\n                    for (let i = 1; i <= 10; i++) {\r\n                        levels.push(<ToggleButton key={i} activated={() => this.setState({ difficulty: i as Difficulty })} text={i.toString()} />);\r\n                    }\r\n                    \r\n                    difficulty = (\r\n                    <Field labelText={words.difficulty}>\r\n                        <Choice prompt={words.difficultyPrompt} color={ButtonColor.Tertiary} vertical={this.props.screenWidth < 400}>\r\n                            {levels}\r\n                        </Choice>\r\n                    </Field>\r\n                    );\r\n                }\r\n\r\n                if (this.state.gameType === GameType.Host) {\r\n                    hostName = (\r\n                    <Field labelText={words.serverName} labelBehaviour={true}>\r\n                        <Textbox color={ButtonColor.Tertiary} text={this.state.serverName} placeholder={words.serverNamePlaceholder} textChanged={name => this.setState({ serverName: name })} />\r\n                        <div className=\"description\">{words.serverNameDescription}</div>\r\n                    </Field>\r\n                    );\r\n                }\r\n            }\r\n        }\r\n\r\n        return <Screen heading={words.intro} pageLayout={true}>\r\n            <Field labelText={words.shipName} labelBehaviour={true}>\r\n                <Textbox color={ButtonColor.Tertiary} text={this.state.shipName} textChanged={name => this.setState({ shipName: name })} />\r\n                <button onClick={() => this.randomizeName()}>refresh</button>\r\n                <div className=\"description\">{words.shipNameDescription}</div>\r\n            </Field>\r\n            \r\n            <Field labelText={words.gameType}>\r\n                <Choice prompt={words.gameTypePrompt} color={ButtonColor.Primary} vertical={choicesVertical}>\r\n                    <ToggleButton activated={() => this.setState({ gameType: GameType.Local })} description={words.gameTypeLocalDescription} text={words.gameTypeLocal} />\r\n                    <ToggleButton activated={() => this.setState({ gameType: GameType.Join })} description={words.gameTypeJoinDescription} text={words.gameTypeJoin} />\r\n                    <ToggleButton activated={() => this.setState({ gameType: GameType.Host })} description={words.gameTypeHostDescription} text={words.gameTypeHost} />\r\n                </Choice>\r\n            </Field>\r\n\r\n            {joinAddress}\r\n            {gameMode}\r\n            {difficulty}\r\n            {hostName}\r\n\r\n            <Field centered={true} displayAsRow={true}>\r\n                <ConfirmButton color={ButtonColor.Primary} clicked={() => this.startGame()} text={words.startGame} disabled={!this.decideCanStart()} />\r\n                <PushButton color={ButtonColor.Quaternary} clicked={() => this.cancel()} text={this.props.text.common.cancel} command=\"-setup\" />\r\n            </Field>\r\n        </Screen>;\r\n    }\r\n    \r\n    private getRandomName() {\r\n        let randomNames = this.props.text.screens.gameSetup.shipNames;\r\n        let index = Math.floor(Math.random() * randomNames.length);\r\n        return randomNames[index];\r\n    }\r\n\r\n    private randomizeName() {\r\n        let name: string;\r\n        do {\r\n            name = this.getRandomName();\r\n        } while (name == this.state.shipName);\r\n\r\n        this.setState({ shipName: name });\r\n    }\r\n    \r\n    private usesDifficulty() {\r\n        switch (this.state.gameMode) {\r\n            case GameMode.Survival:\r\n            case GameMode.Exploration:\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n\r\n    private decideCanStart() {\r\n        if (this.state.gameType === undefined)\r\n            return false;\r\n\r\n        if (this.state.shipName === undefined || this.state.shipName.trim().length == 0)\r\n            return false;\r\n\r\n        if (this.state.gameType === GameType.Join) {\r\n            if (this.state.joinAddress === undefined || this.state.joinAddress.trim().length == 0)\r\n                return false;\r\n        }\r\n\r\n        if (this.state.gameType === GameType.Local || this.state.gameType === GameType.Host) {\r\n            if (this.state.gameMode === undefined)\r\n                return false;\r\n\r\n            if (this.usesDifficulty() && this.state.difficulty === undefined)\r\n                return false;\r\n        }\r\n\r\n        if (this.state.gameType === GameType.Host) {\r\n             if (this.state.serverName === undefined || this.state.serverName.trim().length == 0)\r\n                return false;\r\n        }\r\n        else if (this.state.gameType === GameType.Local) {\r\n            if (this.state.gameMode === GameMode.Arena)\r\n                return false; // invalid combo\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private cancel() {\r\n        this.props.showSystemSelection();\r\n    }\r\n\r\n    private startGame() {\r\n        // TODO: send all the values currently in state with the appropriate \"start\" command\r\n    }\r\n}\r\n\r\n// Selects which state properties are merged into the component's props\r\nconst mapStateToProps: (state: ApplicationState) => IGameSetupDataProps = (state) => {\r\n    return {\r\n        text: state.user.text,\r\n        screenWidth: state.user.screenWidth,\r\n        screenHeight: state.user.screenHeight,\r\n    }\r\n};\r\n\r\n// Wire up the React component to the Redux store\r\nexport default connect(\r\n    mapStateToProps,\r\n    {...ScreenStore.actionCreators}\r\n)(GameSetup);\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/screens/GameSetup.tsx","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { store, connection }  from '../../Client';\r\nimport { ApplicationState }  from '../../store';\r\nimport * as UserStore from '../../store/User';\r\nimport * as ScreenStore from '../../store/Screen';\r\nimport * as CrewStore from '../../store/Crew';\r\nimport { InputMode } from '../../functionality/InputMode';\r\nimport { Localisation, Localisations, TextLocalisation } from '../../functionality/Localisation';\r\nimport { ToggleButton, PushButton, ButtonColor, Screen, Field, Choice, Textbox } from '../general';\r\n\r\ninterface SettingsDataProps {\r\n    userName: string;\r\n    inputMode: InputMode;\r\n    localisation: Localisation;\r\n    text: TextLocalisation;\r\n    screenWidth: number;\r\n    screenHeight: number;\r\n    \r\n    gameInProgress: boolean;\r\n    players: CrewStore.CrewPlayer[];\r\n    localPlayerID?: number;\r\n}\r\n\r\ntype SettingsProps =\r\n    SettingsDataProps\r\n    & typeof UserStore.actionCreators\r\n    & typeof ScreenStore.actionCreators;\r\n\r\nclass Settings extends React.Component<SettingsProps, {}> {\r\n    public render() {\r\n        let words = this.props.text.screens.settings;\r\n        let hasUserName = this.props.userName.trim().length > 0;\r\n        let inputModeVertical = this.props.screenWidth < 330;\r\n\r\n        return <Screen heading={words.intro} pageLayout={true}>\r\n            <Field labelText={words.userName} labelBehaviour={true}>\r\n                <Textbox\r\n                    color={ButtonColor.Primary}\r\n                    text={this.props.userName}\r\n                    textChanged={t => this.nameChanged(t)}\r\n                    placeholder={words.userNamePlaceholder}\r\n                />\r\n                <div className=\"description\">{words.userNameDescription}</div>\r\n            </Field>\r\n\r\n            <Field labelText={words.inputMode}>\r\n                <Choice prompt={words.inputModePrompt} color={ButtonColor.Secondary} vertical={inputModeVertical}>\r\n                    <ToggleButton startActive={this.props.inputMode === InputMode.KeyboardAndMouse} activated={() => this.inputModeChanged(InputMode.KeyboardAndMouse)} description={words.inputModeDescriptionKeyboard} text={words.inputModeKeyboard} />\r\n                    <ToggleButton startActive={this.props.inputMode === InputMode.Touchscreen} activated={() => this.inputModeChanged(InputMode.Touchscreen)} description={words.inputModeDescriptionTouch} text={words.inputModeTouch} />\r\n                    <ToggleButton startActive={this.props.inputMode === InputMode.Gamepad} disabled={true} activated={() => this.inputModeChanged(InputMode.Gamepad)} description={words.inputModeDescriptionGamepad} text={words.inputModeGamepad} />\r\n                </Choice>\r\n            </Field>\r\n            \r\n            <Field centered={true}>\r\n                <PushButton color={ButtonColor.Tertiary} disabled={!hasUserName} clicked={() => this.close()} text={this.props.text.common.save} />\r\n            </Field>\r\n            Screen size is {this.props.screenWidth}x{this.props.screenHeight}\r\n        </Screen>;\r\n    }\r\n\r\n    private nameChanged(name: string) {\r\n        this.props.setUserName(name);\r\n    }\r\n\r\n    private inputModeChanged(mode: InputMode) {\r\n        this.props.setInputMode(mode);\r\n    }\r\n\r\n    private close() {\r\n        let localPlayer = this.props.players.filter(p => p.id === this.props.localPlayerID);\r\n\r\n        connection.send(`name ${this.props.userName.trim()}`);\r\n\r\n        if (localPlayer.length === 0) {\r\n            if (this.props.gameInProgress) {\r\n                this.props.showWaitingForGame();\r\n            } else {\r\n                this.props.showWaitingForPlayers();\r\n            }\r\n        } else {\r\n            if (this.props.gameInProgress) {\r\n                this.props.showPause();\r\n            } else {\r\n                this.props.showSystemSelection();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// Selects which state properties are merged into the component's props\r\nconst mapStateToProps: (state: ApplicationState) => SettingsDataProps = (state) => {\r\n    return {\r\n        userName: state.user.userName,\r\n        inputMode: state.user.inputMode,\r\n        localisation: state.user.localisation,\r\n        text: state.user.text,\r\n        screenWidth: state.user.screenWidth,\r\n        screenHeight: state.user.screenHeight,\r\n\r\n        gameInProgress: state.screen.gameInProgress,\r\n        players: state.crew.players,\r\n        localPlayerID: state.crew.localPlayerID,\r\n    }\r\n};\r\n\r\n// Wire up the React component to the Redux store\r\nexport default connect(\r\n    mapStateToProps,\r\n    {...UserStore.actionCreators, ...ScreenStore.actionCreators}\r\n)(Settings);\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/screens/Settings.tsx","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { store, connection }  from '../../Client';\r\nimport { ApplicationState }  from '../../store';\r\nimport * as CrewStore from '../../store/User';\r\nimport * as ScreenStore from '../../store/Screen';\r\nimport { TextLocalisation } from '../../functionality/Localisation';\r\nimport { ShipSystem, allSystems } from '../../functionality/ShipSystem';\r\nimport { PushButton, ToggleButton, ButtonColor, Field, Screen } from '../general';\r\nimport './SystemSelection.scss';\r\n\r\ninterface SystemSelectionDataProps {\r\n    playersBySystem: { [key: number]: string };\r\n    canEnterSetup: boolean;\r\n    gameInProgress: boolean;\r\n    text: TextLocalisation;\r\n    numPlayers: number;\r\n    preselectedSystems?: ShipSystem;\r\n}\r\n\r\ntype SystemSelectionProps = SystemSelectionDataProps\r\n    & typeof ScreenStore.actionCreators;\r\n\r\nclass SystemSelection extends React.Component<SystemSelectionProps, {}> {\r\n    public render() {\r\n        let words = this.props.text.screens.systemSelection;\r\n        let systemNames = this.props.text.systemNames;\r\n        let suggestedGroupings = this.determineSuggestedGroupings();\r\n\r\n        let setupButton: JSX.Element | undefined, resumeButton: JSX.Element | undefined;\r\n\r\n        if (this.props.gameInProgress) {\r\n            resumeButton = <PushButton\r\n                color={ButtonColor.Secondary}\r\n                text={words.resumeGame}\r\n                command=\"resume\"\r\n            />;\r\n        } else {\r\n            setupButton = <PushButton\r\n                color={ButtonColor.Secondary}\r\n                text={words.setupGame}\r\n                command=\"+setup\"\r\n                disabled={this.props.canEnterSetup}\r\n            />;\r\n        }\r\n\r\n        let settingsButton = <PushButton\r\n            color={ButtonColor.Tertiary}\r\n            text={this.props.text.common.settings}\r\n            clicked={() => this.props.showUserSettings()}\r\n        />;\r\n\r\n        return <Screen heading={words.intro} pageLayout={true}>\r\n            <Field centered={true}>\r\n                <p>{suggestedGroupings.length === 0 ? undefined : words.suggestionPrompt}</p>\r\n                <div className=\"systemSelection\">\r\n                    {this.renderSystemControls(systemNames.helm, ShipSystem.Helm, suggestedGroupings)}\r\n                    {this.renderSystemControls(systemNames.warp, ShipSystem.Warp, suggestedGroupings)}\r\n                    {this.renderSystemControls(systemNames.weapons, ShipSystem.Weapons, suggestedGroupings)}\r\n                    {this.renderSystemControls(systemNames.sensors, ShipSystem.Sensors, suggestedGroupings)}\r\n                    {this.renderSystemControls(systemNames.power, ShipSystem.PowerManagement, suggestedGroupings)}\r\n                    {this.renderSystemControls(systemNames.damage, ShipSystem.DamageControl, suggestedGroupings)}\r\n                    {this.renderSystemControls(systemNames.comms, ShipSystem.Communications, suggestedGroupings)}\r\n                    {this.renderSystemControls(systemNames.view, ShipSystem.ViewScreen, suggestedGroupings)}\r\n                </div>\r\n            </Field>\r\n            <Field centered={true} displayAsRow={true}>\r\n                {settingsButton}\r\n                {setupButton}\r\n                {resumeButton}\r\n            </Field>\r\n        </Screen>;\r\n    }\r\n\r\n    private renderSystemControls(name: string, system: ShipSystem, suggestedGroupings: ShipSystem[]) {\r\n        let players = this.props.playersBySystem[system as number];\r\n\r\n        const groupNames = ['Δ', 'Ω', 'Ψ', 'Χ', 'Θ', 'Σ'];\r\n        let groups = '';\r\n        for (let i=0; i<suggestedGroupings.length; i++) {\r\n            if ((suggestedGroupings[i] & system) !== 0) {\r\n                groups += groupNames[i];\r\n            }\r\n        }\r\n\r\n        // select by default systems chosen by the current player, so they can go to settings and back without screwing with the UI\r\n        let preselected = this.props.preselectedSystems !== undefined && (this.props.preselectedSystems & system) !== 0;\r\n\r\n        return [\r\n            <div key=\"a\" className=\"systemSelection__group\">{groups}</div>,\r\n            <ToggleButton\r\n                key=\"b\"\r\n                text={name}\r\n                color={ButtonColor.Primary}\r\n                activateCommand={`sys+ ${system}`}\r\n                deactivateCommand={`sys- ${system}`}\r\n                startActive={preselected}\r\n            />,\r\n            <div key=\"c\" className=\"systemSelection__help\">?</div>,\r\n            <div key=\"d\" className=\"systemSelection__who\">{players}</div>\r\n        ];\r\n    }\r\n\r\n    private determineSuggestedGroupings() {\r\n        switch (this.props.numPlayers) {\r\n            case 2:\r\n                return [\r\n                    ShipSystem.Helm | ShipSystem.Warp | ShipSystem.ViewScreen,\r\n                    ShipSystem.Warp | ShipSystem.Weapons | ShipSystem.Sensors | ShipSystem.PowerManagement | ShipSystem.DamageControl | ShipSystem.Communications | ShipSystem.ViewScreen,\r\n                ];\r\n            case 3:\r\n                return [\r\n                    ShipSystem.Helm | ShipSystem.Warp | ShipSystem.ViewScreen,\r\n                    ShipSystem.Weapons | ShipSystem.Sensors |ShipSystem.Communications | ShipSystem.ViewScreen,\r\n                    ShipSystem.Warp | ShipSystem.PowerManagement | ShipSystem.DamageControl | ShipSystem.ViewScreen,\r\n                ];\r\n            case 4:\r\n                return [\r\n                    ShipSystem.Helm | ShipSystem.Warp,\r\n                    ShipSystem.Weapons | ShipSystem.Communications | ShipSystem.ViewScreen,\r\n                    ShipSystem.PowerManagement | ShipSystem.DamageControl | ShipSystem.ViewScreen,\r\n                    ShipSystem.Warp | ShipSystem.Sensors | ShipSystem.Communications | ShipSystem.ViewScreen,\r\n                ];\r\n            case 5:\r\n                return [\r\n                    ShipSystem.Helm,\r\n                    ShipSystem.Weapons | ShipSystem.Communications | ShipSystem.ViewScreen,\r\n                    ShipSystem.PowerManagement | ShipSystem.Warp,\r\n                    ShipSystem.DamageControl | ShipSystem.Warp,\r\n                    ShipSystem.Sensors | ShipSystem.Communications | ShipSystem.ViewScreen,\r\n                ];\r\n            case 6:\r\n                return [\r\n                    ShipSystem.Helm,\r\n                    ShipSystem.Weapons | ShipSystem.ViewScreen,\r\n                    ShipSystem.PowerManagement,\r\n                    ShipSystem.Warp | ShipSystem.Communications,\r\n                    ShipSystem.Sensors | ShipSystem.ViewScreen,\r\n                    ShipSystem.DamageControl,\r\n                ];\r\n            default:\r\n                return [];\r\n        }\r\n    }\r\n}\r\n\r\n// Selects which state properties are merged into the component's props\r\nconst mapStateToProps: (state: ApplicationState) => SystemSelectionDataProps = (state) => {\r\n    // use the current player's selections if we have any\r\n    let localPlayer = state.crew.players.filter(p => p.id === state.crew.localPlayerID);\r\n    let preselectedSystems = localPlayer.length === 0 ? 0 : localPlayer[0].flags; // if 0, use saved session values?\r\n\r\n    let players: { [key: number]: string } = {};\r\n\r\n    for (var system of allSystems) {\r\n        players[system] = state.crew.players.filter(p => p.flags & system).map(p => p.name).join(', ');\r\n    }\r\n\r\n    return {\r\n        playersBySystem: players,\r\n        text: state.user.text,\r\n        canEnterSetup: state.crew.playerInSetup !== undefined && state.crew.playerInSetup !== state.crew.localPlayerID,\r\n        gameInProgress: state.screen.gameInProgress,\r\n        numPlayers: state.crew.players.length,\r\n        preselectedSystems: preselectedSystems,\r\n    };\r\n};\r\n\r\n// Wire up the React component to the Redux store\r\nexport default connect(\r\n    mapStateToProps,\r\n    ScreenStore.actionCreators\r\n)(SystemSelection);\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/screens/SystemSelection.tsx","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { store, connection }  from '../../Client';\r\nimport { ApplicationState }  from '../../store';\r\nimport * as CrewStore from '../../store/User';\r\nimport { TextLocalisation } from '../../functionality/Localisation';\r\nimport { PushButton, ButtonColor, Field, Screen } from '../general';\r\n\r\ninterface WaitingProps {\r\n    playerNames: string[];\r\n    text: TextLocalisation;\r\n}\r\n\r\nclass WaitingForPlayers extends React.Component<WaitingProps, {}> {\r\n    public render() {\r\n        let words = this.props.text.screens.waiting;\r\n\r\n        return <Screen heading={words.intro} pageLayout={true}>\r\n            <Field centered={true} labelText={words.players}>\r\n                <ul>\r\n                    {this.props.playerNames.map((n, id) => <li key={id}>{n}</li>)}\r\n                </ul>\r\n            </Field>\r\n            \r\n            <Field centered={true}>\r\n                <PushButton color={ButtonColor.Tertiary} clicked={() => this.continue()} text={this.props.text.common.ready} />\r\n            </Field>\r\n        </Screen>;\r\n    }\r\n\r\n    private continue() {\r\n        connection.send('all_present');\r\n    }\r\n}\r\n\r\n// Selects which state properties are merged into the component's props\r\nconst mapStateToProps: (state: ApplicationState) => WaitingProps = (state) => {\r\n    return {\r\n        playerNames: state.crew.players.map(p => p.name),\r\n        text: state.user.text,\r\n    }\r\n};\r\n\r\n// Wire up the React component to the Redux store\r\nexport default connect(\r\n    mapStateToProps,\r\n    {}\r\n)(WaitingForPlayers);\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/screens/WaitingForPlayers.tsx","export { default as Connecting } from './Connecting';\r\nexport { default as Settings } from './Settings';\r\nexport { default as WaitingForPlayers } from './WaitingForPlayers';\r\nexport { default as SystemSelection } from './SystemSelection';\r\nexport { default as GameSetup } from './GameSetup';\r\nexport { default as Error } from './Error';\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/components/screens/index.ts","import { Localisation } from './Localisation';\r\nimport English from '../localisations/English';\r\n\r\nexport interface Localisation {\r\n    name: string;\r\n    flag: string;\r\n    load: () => TextLocalisation;\r\n}\r\n\r\nexport const Localisations: Localisation[] = [\r\n    {\r\n        name: 'English',\r\n        flag: 'english.png',\r\n        load: () => English,\r\n    }\r\n];\r\n\r\nexport interface TextLocalisation {\r\n    common: {\r\n        save: string;\r\n        cancel: string;\r\n        ready: string;\r\n        settings: string;\r\n        help: string;\r\n    }\r\n    errors: {\r\n        unknown: string;\r\n        connectionLost: string;\r\n    }\r\n    screens: {\r\n        connecting: {\r\n            connecting: string;\r\n        }\r\n        settings: {\r\n            intro: string;\r\n            userName: string;\r\n            userNamePlaceholder: string;\r\n            userNameDescription: string;\r\n            inputMode: string;\r\n            inputModePrompt: string;\r\n            inputModeKeyboard: string;\r\n            inputModeTouch: string;\r\n            inputModeGamepad: string;\r\n            inputModeDescriptionKeyboard: string;\r\n            inputModeDescriptionTouch: string;\r\n            inputModeDescriptionGamepad: string;\r\n        },\r\n        waiting: {\r\n            intro: string;\r\n            players: string;\r\n        },\r\n        systemSelection: {\r\n            intro: string,\r\n            suggestionPrompt: string,\r\n            setupGame: string,\r\n            resumeGame: string,\r\n        },\r\n        gameSetup: {\r\n            intro: string;\r\n            gameType: string;\r\n            gameTypePrompt: string;\r\n            gameTypeLocal: string;\r\n            gameTypeLocalDescription: string;\r\n            gameTypeJoin: string;\r\n            gameTypeJoinDescription: string;\r\n            gameTypeHost: string;\r\n            gameTypeHostDescription: string;\r\n            shipName: string;\r\n            shipNamePlaceholder: string\r\n            shipNameDescription: string;\r\n            joinAddress: string;\r\n            joinAddressPlaceholder: string;\r\n            joinAddressDescription: string;\r\n            serverName: string;\r\n            serverNamePlaceholder: string\r\n            serverNameDescription: string;\r\n            gameMode: string;\r\n            gameModePrompt: string;\r\n            gameModeExploration: string;\r\n            gameModeSurvival: string;\r\n            gameModeArena: string;\r\n            gameModeExplorationDescription: string;\r\n            gameModeSurvivalDescription: string;\r\n            gameModeArenaDescription: string;\r\n            difficulty: string;\r\n            difficultyPrompt: string;\r\n            startGame: string;\r\n            shipNames: string[];\r\n        },\r\n        error: {\r\n            heading: string;\r\n        },\r\n    },\r\n    systemNames: {\r\n        helm: string,\r\n        warp: string,\r\n        weapons: string,\r\n        sensors: string,\r\n        power: string,\r\n        damage: string,\r\n        comms: string,\r\n        view: string,\r\n    },\r\n}\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/functionality/Localisation.ts","export enum ShipSystem {\r\n    Helm = 1,\r\n    Warp = 2,\r\n    Weapons = 4,\r\n    Sensors = 8,\r\n    PowerManagement = 16,\r\n    DamageControl = 32,\r\n    ViewScreen = 64,\r\n    Communications = 128,\r\n}\r\n\r\nexport const allSystems = [\r\n    ShipSystem.Helm,\r\n    ShipSystem.Warp,\r\n    ShipSystem.Weapons,\r\n    ShipSystem.Sensors,\r\n    ShipSystem.PowerManagement,\r\n    ShipSystem.DamageControl,\r\n    ShipSystem.Communications,\r\n    ShipSystem.ViewScreen,\r\n];\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/functionality/ShipSystem.ts","import { TextLocalisation } from '../functionality/Localisation';\r\n\r\nlet words: TextLocalisation = {\r\n    common: {\r\n        save: 'Save',\r\n        cancel: 'Cancel',\r\n        ready: 'Ready',\r\n        settings: 'Settings',\r\n        help: 'Help',\r\n    },\r\n    errors: {\r\n        unknown: 'Unable to display information on this error. Sorry.',\r\n        connectionLost: 'The connection to your ship has been lost.\\nIf the game is still running, check your network connection.\\nOtherwise, refresh the page to reconnect.',\r\n    },\r\n    screens: {\r\n        connecting: {\r\n            connecting: 'Connecting to your ship...',\r\n        },\r\n        settings: {\r\n            intro: 'Enter your name, and choose an input mode:',\r\n            userName: 'Your name',\r\n            userNamePlaceholder: 'Enter your name...',\r\n            userNameDescription: 'This is only visible to your crewmates.',\r\n            inputMode: 'Input mode',\r\n            inputModePrompt: 'Some ship systems will display differently depending on your selection.',\r\n            inputModeKeyboard: 'Mouse and keyboard',\r\n            inputModeTouch: 'Touchscreen',\r\n            inputModeGamepad: 'Game controller',\r\n            inputModeDescriptionKeyboard: 'On-screen buttons with keyboard shortcuts',\r\n            inputModeDescriptionTouch: 'Use Multi-touch controls',\r\n            inputModeDescriptionGamepad: 'Use an attached game controller',\r\n        },\r\n        waiting: {\r\n            intro: 'Please wait for all of your crew to join, then click \\'Ready\\'',\r\n            players: 'Current players:',\r\n        },\r\n        systemSelection: {\r\n            intro: 'Select the ship systems you will control:',\r\n            suggestionPrompt: 'The symbols on the left show suggested system groupings.',\r\n            setupGame: 'Setup game',\r\n            resumeGame: 'Resume game',\r\n        },\r\n        gameSetup: {\r\n            intro: 'Create or join a game',\r\n            gameType: 'Game type',\r\n            gameTypePrompt: 'Will you play with just your own crew, or with others?',\r\n            gameTypeLocal: 'Single crew',\r\n            gameTypeLocalDescription: 'Play against the computer, with only your crew',\r\n            gameTypeJoin: 'Join game',\r\n            gameTypeJoinDescription: 'Join a multi-crew game hosted elsewhere',\r\n            gameTypeHost: 'Host game',\r\n            gameTypeHostDescription: 'Host a multi-crew game that others can join',\r\n            shipName: 'Ship name',\r\n            shipNamePlaceholder: 'You must name your ship',\r\n            shipNameDescription: 'The name of the ship your crew will operate',\r\n            joinAddress: 'Server address',\r\n            joinAddressPlaceholder: 'Enter address',\r\n            joinAddressDescription: 'IP address or URL of the game server to join',\r\n            serverName: 'Server name',\r\n            serverNamePlaceholder: 'Enter a name',\r\n            serverNameDescription: 'The game name to display to other crews',\r\n            gameMode: 'Game mode',\r\n            gameModePrompt: 'Select the kind of game you want to play:',\r\n            gameModeExploration: 'Exploration',\r\n            gameModeSurvival: 'Survival',\r\n            gameModeArena: 'Arena',\r\n            gameModeExplorationDescription: 'Carry out missions, explore the galaxy, and boldly go where no one has gone before.',\r\n            gameModeSurvivalDescription: 'Survive for as long as possible against endless waves of computer-controlled ships.',\r\n            gameModeArenaDescription: 'Human-crewed ships battle for supremacy in a single star system.',\r\n            difficulty: 'Difficulty',\r\n            difficultyPrompt: 'Higher values give more, tougher AI opponents.',\r\n            startGame: 'Start game',\r\n\r\n            shipNames: [\r\n                'Excalibur',\r\n                'Excelcius',\r\n                'Bosephorous',\r\n                'Enigma',\r\n                'Praetor',\r\n            ],\r\n        },\r\n        error: {\r\n            heading: 'An error has occurred',\r\n        },\r\n    },\r\n    systemNames: {\r\n        helm: 'Helm',\r\n        warp: 'Warp',\r\n        weapons: 'Weapons',\r\n        sensors: 'Sensors',\r\n        power: 'Power',\r\n        damage: 'Damage Control',\r\n        view: 'Viewscreen',\r\n        comms: 'Communications',\r\n    },\r\n};\r\n\r\nexport default words;\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/localisations/English.ts","import * as User from './User';\r\nimport * as Crew from './Crew';\r\nimport * as Screen from './Screen';\r\n\r\n// The top-level state object\r\nexport interface ApplicationState {\r\n    user: User.UserState;\r\n    crew: Crew.CrewState;\r\n    screen: Screen.ScreenState;\r\n}\r\n\r\n// Whenever an action is dispatched, Redux will update each top-level application state property using\r\n// the reducer with the matching name. It's important that the names match exactly, and that the reducer\r\n// acts on the corresponding ApplicationState property type.\r\nexport const reducers = {\r\n    user: User.reducer,\r\n    crew: Crew.reducer,\r\n    screen: Screen.reducer,\r\n};\r\n\r\n// This type can be used as a hint on action creators so that its 'dispatch' and 'getState' params are\r\n// correctly typed to match your store.\r\nexport interface AppThunkAction<TAction> {\r\n    (dispatch: (action: TAction) => void, getState: () => ApplicationState): void;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./ClientApp/store/index.ts","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/components/general/ButtonSet.scss\n// module id = 38\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/components/general/Choice.scss\n// module id = 39\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/components/general/Field.scss\n// module id = 40\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/components/general/Screen.scss\n// module id = 41\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/components/general/Textbox.scss\n// module id = 42\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/components/general/buttons/buttons.scss\n// module id = 43\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/components/screens/Error.scss\n// module id = 44\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./ClientApp/components/screens/SystemSelection.scss\n// module id = 45\n// module chunks = 0","/* eslint-disable global-require */\n\n'use strict';\n\nif (!module.hot || process.env.NODE_ENV === 'production') {\n  module.exports = require('./AppContainer.prod');\n} else {\n  module.exports = require('./AppContainer.dev');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-hot-loader/lib/AppContainer.js\n// module id = 46\n// module chunks = 0","/* eslint-disable react/prop-types */\n\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar Component = React.Component;\n\nvar AppContainer = function (_Component) {\n  _inherits(AppContainer, _Component);\n\n  function AppContainer() {\n    _classCallCheck(this, AppContainer);\n\n    return _possibleConstructorReturn(this, (AppContainer.__proto__ || Object.getPrototypeOf(AppContainer)).apply(this, arguments));\n  }\n\n  _createClass(AppContainer, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.component) {\n        return React.createElement(this.props.component, this.props.props);\n      }\n\n      return React.Children.only(this.props.children);\n    }\n  }]);\n\n  return AppContainer;\n}(Component);\n\nmodule.exports = AppContainer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-hot-loader/lib/AppContainer.prod.js\n// module id = 47\n// module chunks = 0","/* eslint-disable global-require */\n\n'use strict';\n\nif (!module.hot || process.env.NODE_ENV === 'production') {\n  module.exports = require('./index.prod');\n} else {\n  module.exports = require('./index.dev');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-hot-loader/lib/index.js\n// module id = 48\n// module chunks = 0","'use strict';\n\nmodule.exports.AppContainer = require('./AppContainer');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-hot-loader/lib/index.prod.js\n// module id = 49\n// module chunks = 0","module.exports = (__webpack_require__(3))(142);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/react-router-redux/es/index.js from dll-reference vendor_a65b3acf96981fd3289a\n// module id = 50\n// module chunks = 0","module.exports = (__webpack_require__(3))(143);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/redux-thunk/lib/index.js from dll-reference vendor_a65b3acf96981fd3289a\n// module id = 51\n// module chunks = 0","module.exports = (__webpack_require__(3))(73);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/redux/es/index.js from dll-reference vendor_a65b3acf96981fd3289a\n// module id = 52\n// module chunks = 0"],"sourceRoot":""}