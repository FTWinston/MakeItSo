@import 'breakpoints';

$systemSwitcherHeight: 3em;

@mixin clearSystemSwitcher() {
    &:before {
        display: block;
        content: '';
        height: $systemSwitcherHeight + .75em;
    }
}

@mixin adaptive-layout($tableCutoffSize) {
    width: 100vw;
    height: 100vh;

    spacer.adaptiveVerticalMinWidth {
        @for $i from 5 through 15 {
            &[data-width="#{$i}em"] {
                min-width: #{$i}em;
            }
        }
    }

    & > section {
        &:first-of-type { @include clearSystemSwitcher(); }
        min-height: 20em;
        padding: 1em;
    }

    @include media-size-down($tableCutoffSize) {
        display: table;

        & > section {
            padding: 0;
            padding-top: 0.5em;
            min-height: initial;
        }
    
        @include landscape {
            & > section {
                @include clearSystemSwitcher();
                display: table-cell;

                &.full { width: 100vw; }
                &.large  { width: 67vw; }
                &.medium { width: 50vw; }
                &.small  { width: 33vw; }
            }

            spacer.adaptiveVerticalMinWidth {
                min-width: initial !important;
            }
        }

        @include portrait {
            & > section {
                display: block;

                &.full { height: 100vh; }
                &.large  { height: 75vh; }
                &.medium { height: 50vh; }
                &.small  { height: 25vh; }
            }
        }
    }
    
    @include landscape() {
        & > section {
            @include media-size(md) {
                padding-top: 4em;
            }
            @include media-size(sm) {
                padding-top: 2em;
            }
            &:first-child, &.full {
                @include media-size-up(lg) {
                    padding-top: 2em;
                }
                @include media-size-up(xl) {
                    padding-top: 4em;
                }
            }
        }
    }
}